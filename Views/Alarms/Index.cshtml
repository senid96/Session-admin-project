@{
    ViewBag.Title = "Alarmi";
}

<script src="~/Scripts/custom-scripts/alarms/alarms.js?rndstr=<%= getRandomStr() %>"></script>
<script src="~/Scripts/custom-scripts/helper-methods.js?rndstr=<%= getRandomStr() %>"></script>

<!--navigation filter menu-->
<ul class="nav nav-tabs" id="alarm-tabs" role="tablist">
    <li class="nav-item">
        <a class="nav-link active" id="active-alarms-tab" data-toggle="tab" href="#active-alarms-div" role="tab" aria-controls="active-alarms-div" aria-selected="true">Aktivni alarmi</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" id="history-alarms-tab" data-toggle="tab" href="#history-alarms-div" role="tab" aria-controls="history-alarms-div" aria-selected="false">Historija alarma</a>
    </li>
</ul>

<div class="tab-content" id="alarm-tabs-content">
    <!--active alarms-->
    <div class="tab-pane fade active" id="active-alarms-div" role="tabpanel" aria-labelledby="active-alarms-tab">
        <button class="btn btn-custom" id="get-active-alarms-btn">Pregledaj aktivne</button>
        <button class="btn btn-custom" id="open-modal-conifrm-btn">Potvrdi alarme</button>
        <table id="active-alarms-tbl" class="table table-hover">
            <thead>
                <tr>
                    <!-- select all boxes -->
                    <th><input type="checkbox" name="select-all" id="select-all" /></th>
                    <th>Alarm ID</th>
                    <th>Vrijeme alarma</th>
                    <th>Izvor</th>
                    <th>Poruka</th>
                    <th>ID sesije</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!--alarm history-->
    <div class="tab-pane fade" id="history-alarms-div" role="tabpanel" aria-labelledby="history-alarms-tab">
        <div class="form-inline">
            <div class="form-group">
                <div class="label-div">Period od: *</div> &nbsp;
                <input type="datetime" id="date-from" class="form-control" />  &nbsp;
            </div>
            <div class="form-group">
                <div class="label-div">Period do: *</div> &nbsp;
                <input type="datetime" id="date-to" class="form-control" /> &nbsp;
            </div>
            <div class="form-group">
                <button id="search-history-alarm-btn" class="btn btn-custom">Pretraži</button>
            </div>
        </div>
        <br />
        <table id="alarms-history-tbl" class="table table-hover">
            <thead>
                <tr>
                    <!-- select all boxes -->
                    <th>Vrijeme alarma</th>
                    <th>Izvor</th>
                    <th>Poruka</th>
                    <th>Potvrđeno</th>
                    <th>Korisnik</th>
                    <th>Vrijeme potvrde</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<!-- confirm alarms modal -->
<div id="confirm-alarms-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title" id="title">Potvrda alarma</h4>
            </div>
            <div class="modal-body">
                <p id="modal-msg"></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-custom" data-dismiss="modal" id="confirm-btn">Potvrdi</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Odustani</button>
            </div>
        </div>

    </div>
</div>
